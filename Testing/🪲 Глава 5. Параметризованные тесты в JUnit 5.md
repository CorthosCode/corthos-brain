# ü™≤ –ì–ª–∞–≤–∞ 5. –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –≤ JUnit 5

## –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ?

–û–±—ã—á–Ω—ã–π —Ç–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç **–æ–¥–∏–Ω –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö**. –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ç–µ—Å—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å **–æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Ç–µ—Å—Ç–æ–≤—ã–π –º–µ—Ç–æ–¥** —Å —Ä–∞–∑–Ω—ã–º–∏ –≤—Ö–æ–¥–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏.

üëâ –≠—Ç–æ —Å–æ–∫—Ä–∞—â–∞–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–µ–ª–∞–µ—Ç —Ç–µ—Å—Ç—ã –±–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–º–∏.





***

## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (Maven/Gradle)

–î–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –Ω—É–∂–µ–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å JUnit:

**Maven**

```xml
<dependency>
    <groupId>org.junit.jupiter</groupId>
    <artifactId>junit-jupiter-params</artifactId>
    <version>5.10.0</version>
    <scope>test</scope>
</dependency>
```

**Gradle**

```groovy
testImplementation 'org.junit.jupiter:junit-jupiter-params:5.10.0'
```





***

## –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä —Å `@ValueSource`

```java
import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.ValueSource;
import static org.junit.jupiter.api.Assertions.*;

class StringUtilsTest {

    @ParameterizedTest
    @ValueSource(strings = {"radar", "level", "madam"})
    void shouldBePalindrome(String word) {
        assertTrue(isPalindrome(word));
    }

    boolean isPalindrome(String s) {
        return new StringBuilder(s).reverse().toString().equals(s);
    }
}
```

üëâ –≠—Ç–æ—Ç —Ç–µ—Å—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è **3 —Ä–∞–∑–∞**: –¥–ª—è `radar`, `level`, `madam`.





***

## –ù–µ—Å–∫–æ–ª—å–∫–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —Å `@CsvSource`

```java
import org.junit.jupiter.params.provider.CsvSource;

class CalculatorTest {

    @ParameterizedTest
    @CsvSource({
        "2, 3, 5",
        "10, 5, 15",
        "7, 8, 15"
    })
    void shouldReturnSum(int a, int b, int expected) {
        Calculator calc = new Calculator();
        assertEquals(expected, calc.add(a, b));
    }
}
```

üëâ –ó–¥–µ—Å—å —Ç–µ—Å—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ç—Ä–∏ —Ä–∞–∑–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ –Ω–∞–±–æ—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.





***

## –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞ (`@CsvFileSource`)

–ú–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–æ –≤–Ω–µ—à–Ω–µ–º —Ñ–∞–π–ª–µ `src/test/resources/data.csv`:

```java
2,3,5
10,5,15
7,8,15
```

–¢–µ—Å—Ç:

```java
import org.junit.jupiter.params.provider.CsvFileSource;

class CalculatorTest {

    @ParameterizedTest
    @CsvFileSource(resources = "/data.csv", numLinesToSkip = 0)
    void shouldReturnSumFromFile(int a, int b, int expected) {
        Calculator calc = new Calculator();
        assertEquals(expected, calc.add(a, b));
    }
}
```





***

## –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

JUnit 5 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π:

* `@ValueSource` ‚Äî –æ–¥–∏–Ω–æ—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (—Å—Ç—Ä–æ–∫–∏, —á–∏—Å–ª–∞, boolean).
* `@CsvSource` ‚Äî —Å—Ç—Ä–æ–∫–∏ CSV (–Ω–µ—Å–∫–æ–ª—å–∫–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤).
* `@CsvFileSource` ‚Äî –¥–∞–Ω–Ω—ã–µ –∏–∑ CSV-—Ñ–∞–π–ª–∞.
* `@EnumSource` ‚Äî –∑–Ω–∞—á–µ–Ω–∏—è `enum`.
* `@MethodSource` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –º–µ—Ç–æ–¥–µ.
* `@ArgumentsSource` ‚Äî –∫–∞—Å—Ç–æ–º–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ (–¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤).





***

## –ü—Ä–∏–º–µ—Ä —Å `@MethodSource`

–ú–æ–∂–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ:

```java
import org.junit.jupiter.params.provider.MethodSource;
import java.util.stream.Stream;

class CalculatorTest {

    static Stream<org.junit.jupiter.params.provider.Arguments> data() {
        return Stream.of(
            org.junit.jupiter.params.provider.Arguments.of(2, 3, 5),
            org.junit.jupiter.params.provider.Arguments.of(10, 5, 15),
            org.junit.jupiter.params.provider.Arguments.of(7, 8, 15)
        );
    }

    @ParameterizedTest
    @MethodSource("data")
    void shouldReturnSum(int a, int b, int expected) {
        Calculator calc = new Calculator();
        assertEquals(expected, calc.add(a, b));
    }
}
```





***

## –ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

**–ü–ª—é—Å—ã:**

* –ú–µ–Ω—å—à–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞.
* –õ–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏.
* –•–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è "—Ç–∞–±–ª–∏—á–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤".

**–ú–∏–Ω—É—Å—ã:**

* –ò–Ω–æ–≥–¥–∞ —Å–Ω–∏–∂–∞–µ—Ç—Å—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å (–æ—Å–æ–±–µ–Ω–Ω–æ —Å –±–æ–ª—å—à–∏–º–∏ CSV).
* –°–ª–æ–∂–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª—É—á—à–µ –≤—ã–Ω–æ—Å–∏—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã.



