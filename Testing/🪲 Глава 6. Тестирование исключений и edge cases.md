# ü™≤ –ì–ª–∞–≤–∞ 6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∏ edge cases

## –ß—Ç–æ —Ç–∞–∫–æ–µ edge cases?

**Edge case** (–∫—Ä–∞–π–Ω–∏–π —Å–ª—É—á–∞–π) ‚Äî —ç—Ç–æ —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ —Ä–∞–º–∫–∏ –æ–±—ã—á–Ω—ã—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è "–Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ".

–ü—Ä–∏–º–µ—Ä—ã:

* –î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å.
* –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ `null`.
* –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ/–º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (`Integer.MAX_VALUE`).
* –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ç–∞–º, –≥–¥–µ –æ–∂–∏–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ.
* –ü—É—Å—Ç—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏.





***

## –ó–∞—á–µ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å edge cases?

* –¢–∞–∫–∏–µ —Å–ª—É—á–∞–∏ —á–∞—Å—Ç–æ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –±–∞–≥–∞–º.
* –≠—Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ **—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã**.
* –û–Ω–∏ –ø–æ–º–æ–≥–∞—é—Ç –≤—ã—è–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –≤ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞ —á—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å, –µ—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç–æ–π?).





***

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ JUnit 5



‚úÖ `assertThrows`

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ –º–µ—Ç–æ–¥ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –Ω—É–∂–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ:

```java
@Test
void shouldThrowException_whenDivideByZero() {
    Calculator calc = new Calculator();
    assertThrows(ArithmeticException.class, () -> calc.divide(10, 0));
}
```



‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è

```java
@Test
void shouldThrowWithMessage() {
    Exception ex = assertThrows(IllegalArgumentException.class, 
        () -> validateAge(-1));

    assertEquals("Age must be positive", ex.getMessage());
}

void validateAge(int age) {
    if (age < 0) throw new IllegalArgumentException("Age must be positive");
}
```



‚úÖ `assertDoesNotThrow`

–ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –º–µ—Ç–æ–¥ **–Ω–µ –±—Ä–æ—Å–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π**:

```java
@Test
void shouldNotThrow_whenValidInput() {
    assertDoesNotThrow(() -> validateAge(25));
}
```





***

## Edge cases –≤ —Ç–µ—Å—Ç–∞—Ö

```java
@Test
void shouldReturnEmpty_whenInputEmpty() {
    assertEquals("", reverse(""));
}

@Test
void shouldHandleNull() {
    assertThrows(NullPointerException.class, () -> reverse(null));
}

private String reverse(String s) {
    if (s == null) throw new NullPointerException("Input is null");
    return new StringBuilder(s).reverse().toString();
}
```





***

## –¢–µ—Ö–Ω–∏–∫–∞ ¬´–≥—Ä–∞–Ω–∏—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π¬ª (Boundary Testing)

–ö–æ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–µ–º —á–∏—Å–ª–∞, —Å—Ç–æ–∏—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

* –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤–æ–∑–º–æ–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
* –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤–æ–∑–º–æ–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
* –ó–Ω–∞—á–µ–Ω–∏—è "—Ä—è–¥–æ–º —Å –≥—Ä–∞–Ω–∏—Ü–µ–π".

–ü—Ä–∏–º–µ—Ä:

```java
@Test
void shouldHandleIntegerOverflow() {
    Calculator calc = new Calculator();
    assertThrows(ArithmeticException.class, () -> calc.add(Integer.MAX_VALUE, 1));
}
```





***

## Negative testing (–Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏)

–ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç "–ø—Ä–∞–≤–∏–ª—å–Ω–æ", –Ω–æ –∏ —Ç–æ, —á—Ç–æ –æ–Ω **–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ª–æ–º–∞–µ—Ç—Å—è**:

* –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ–∂–∏–¥–∞–µ–º–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.
* –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–º–µ—Å—Ç–æ –∫—Ä–∞—à–∞.
* –õ–æ–≥–∏—Ä—É–µ—Ç –æ—à–∏–±–∫—É.





***

## Best practices

* –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π **–æ–∂–∏–¥–∞–µ–º—ã–π —Ç–∏–ø –∏—Å–∫–ª—é—á–µ–Ω–∏—è** (`assertThrows`), –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ "–∫–∞–∫–æ–π-—Ç–æ Exception".
* –¢–µ—Å—Ç–∏—Ä—É–π **–∏ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ, –∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏**.
* –ù–µ –ø–∏—à–∏ —Ç–µ—Å—Ç—ã "–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π" (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ `1+1=2`), –Ω–æ **–≥—Ä–∞–Ω–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –ø—Ä–æ–≤–µ—Ä—è–π –≤—Å–µ–≥–¥–∞**.
* –ï—Å–ª–∏ –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Optional` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–π –∏ `.isPresent()`, –∏ `.isEmpty()`.
* –ï—Å–ª–∏ –º–µ—Ç–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å–ø–∏—Å–∫–∞–º–∏ ‚Äî –ø—Ä–æ–≤–µ—Ä—è–π –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫, –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç, –º–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.



