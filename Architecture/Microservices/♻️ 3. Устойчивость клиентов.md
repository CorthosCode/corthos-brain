
Микросервисные архитектуры по определению имеют распределенный характер, поэтому следует очень внимательно относиться к предотвращению каскадного распространения проблем из одной службы (или экземпляра службы) к ее потребителям.

С этой целью существуют четыре модели организации устойчивости клиентов:
- Балансировка нагрузки на стороне клиента
- Шаблон размыкателя цепи (Circuit Breaker)
- Шаблон отката к резервной реализации (fallback)
- Шаблон герметичных отсеков (Bulkhead)

![Устойчивость клиентов](assets/Microservices/ustoichevost_clientov.png)


---

## Балансировка нагрузки на стороне клиента

Реализуется кешированием местоположений экземпляров службы и равномерным распределением трафика между всеми работоспособными экземплярами.


---

## Шаблон размыкателя цепи (Circuit Breaker)

Не позволяет клиенту продолжать обращаться к службе, потерпевшей сбой или испытывающей проблемы с производительностью.

Медленно работающая служба напрасно потребляет ресурсы вызывающего клиента, поэтому вызовы к такой службе должны быстро завершаться с признаком ошибки, чтобы клиент мог быстро среагировать и предпринять соответствующие действия.


---

## Шаблон отката к резервной реализации (fallback)

На случай сбоя службы должен иметься «сменный» механизм, который даст возможность клиенту попытаться выполнить свою работу с помощью альтернативных средств, отличных от вызываемого микросервиса.


---

## Шаблон герметичных отсеков (Bulkhead)

Приложения на основе микросервисов используют несколько распределенных ресурсов для выполнения своей работы.

Этот шаблон упорядочивает вызовы к этим ресурсам так, чтобы сбой в одной службе не мог отрицательно сказаться на остальной части приложения.

