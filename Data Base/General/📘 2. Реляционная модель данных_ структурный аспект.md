
Реляционная модель (Эдгар Кодд, 1970) описывает **как данные организованы**.

В структурном аспекте определяются **основные строительные блоки**:
- **Отношение (relation)** — основная структура данных, соответствующая таблице.
- **Кортеж (tuple)** — строка (запись) отношения, представляет собой набор связанных данных.
- **Атрибут (attribute)** — столбец отношения, характеризующий некоторое свойство сущности; имеет имя и домен.
- **Домен (domain)** — множество допустимых значений для атрибута (например, целые числа, строки определённой длины и т.д.).
- **Схема отношения (relation schema)** — описание структуры отношения: имя отношения и список его атрибутов с указанием доменов.
- **Ключ (key)** — атрибут или набор атрибутов, однозначно идентифицирующий кортеж в отношении.
    - **Первичный ключ (primary key)** — выбранный ключ, уникально идентифицирующий каждую запись.
    - **Альтернативные (уникальные) ключи** — другие возможные ключи.
    - **Внешний ключ (foreign key)** — атрибут (или набор атрибутов), ссылающийся на первичный ключ другого (или того же) отношения, обеспечивает ссылочную целостность.


***

## 1. **Отношение (Relation)**

* Основная единица хранения.
* Обычно представляется **таблицей**.
* Характеристики:
  * отношение = **множество** кортежей (без дубликатов!);
  * строки (кортежи) неупорядочены;
  * порядок столбцов не имеет значения — важны только имена атрибутов.

Формально:

![](assets/WoKUsM_MdN47dv3KtLpYO6sRSTZJEx8qMkXtu6IJJ2A=.png)


***

## 2. **Кортеж (Tuple)**

* Строка таблицы.
* Представляет одну запись.
* Множество атрибутов с конкретными значениями.

Пример:

```sql
( id = 101, name = "Иван", age = 25 )
```


***

## 3. **Атрибут (Attribute)**

* Столбец таблицы.
* Имеет **имя** и **домен** (тип данных).
* Каждый атрибут принимает **атомарные значения** (одно значение из домена, не список и не структура).

Пример:

```sql
name: VARCHAR(100)
age: INTEGER
```


***

## 4. **Домен (Domain)**

* Множество допустимых значений для атрибута.
* Примеры доменов:
  * `Возраст` = {целые числа от 0 до 120}
  * `Email` = {строки, удовлетворяющие regex-правилу}


***

## 5. **Схема отношения (Relation Schema)**

* Описание структуры таблицы (имя + атрибуты + домены).

Пример схемы:

```sql
Клиенты( id: INT, name: VARCHAR, age: INT )
```


***

## 6. **Суперключ, Ключ и Первичный ключ**

* **Суперключ** — множество атрибутов, которое однозначно определяет кортеж.
* **Кандидатный ключ** — минимальный суперключ (без лишних атрибутов).
* **Первичный ключ (PK)** — выбранный из кандидатных ключей.

Пример:

```sql
Клиенты( id, passport, name, age )
Суперключи: {id}, {passport}, {id, passport}, {id, name}, ...
Кандидатные ключи: {id}, {passport}
PK: {id}
```


***

## 7. **Внешний ключ (Foreign Key, FK)**

* Атрибут (или их набор), который ссылается на ключ другой таблицы.
* Реализует **связи между отношениями**.

Пример:

```sql
Заказы( order_id, client_id, sum )
client_id → Клиенты.id
```


***

## 8. **Целостность данных (Integrity constraints)**

Структурный аспект также включает **ограничения**, гарантирующие корректность:

* **Целостность сущностей**: у каждой записи есть уникальный PK, он не NULL.
* **Ссылочная целостность**: FK должен ссылаться на существующую запись в другой таблице.
* **Доменные ограничения**: значение должно принадлежать своему домену.


***

## 9. **База данных = множество отношений**

Реляционная база данных — это просто набор таких таблиц-отношений, связанных ключами.

