# üìò –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SELECT-–∑–∞–ø—Ä–æ—Å–∞ –≤ SQL

![](assets/tN3rGRRnx53yiG3dZ8aqzJ8GQ0I6zUpcZlwXV1jF_Ec=.png)





–•–æ—Ç—è –º—ã –ø–∏—à–µ–º –∑–∞–ø—Ä–æ—Å –≤ –ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ:

```sql
SELECT ...
FROM ...
WHERE ...
GROUP BY ...
HAVING ...
ORDER BY ...
LIMIT ...
```

‚Äî –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —Å–µ—Ä–≤–µ—Ä –ë–î –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –µ–≥–æ **–≤ –¥—Ä—É–≥–æ–º –ø–æ—Ä—è–¥–∫–µ**.





***

## –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö (Source)

* –≠—Ç–∞–ø: –≤—ã–±–∏—Ä–∞—é—Ç—Å—è —Ç–∞–±–ª–∏—Ü—ã –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ `FROM`.
* –ï—Å–ª–∏ –µ—Å—Ç—å `JOIN` ‚Äî –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü.
* –ü—Ä–∏–º–µ—Ä:

```sql
FROM employees e
JOIN departments d ON e.dept_id = d.id
```





***

## –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ (Merged)

* –ü–æ—Å–ª–µ `FROM` —Ç–∞–±–ª–∏—Ü—ã —Å–æ–µ–¥–∏–Ω—è—é—Ç—Å—è (JOIN, CROSS JOIN, NATURAL JOIN).
* –†–µ–∑—É–ª—å—Ç–∞—Ç: –µ–¥–∏–Ω–∞—è –≤—Ä–µ–º–µ–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞.





***

## –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Ç—Ä–æ–∫ (Filtered ‚Äî WHERE)

* –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —É—Å–ª–æ–≤–∏—è `WHERE`, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–±–∏—Ä–∞—é—Ç —Å—Ç—Ä–æ–∫–∏.
* ‚ö†Ô∏è –ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (`SUM`, `AVG`) ‚Äî –æ–Ω–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –ø–æ–∑–∂–µ.
* –ü—Ä–∏–º–µ—Ä:

```sql
WHERE e.salary > 50000
```





***

## –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ (Grouped ‚Äî GROUP BY)

* –°—Ç—Ä–æ–∫–∏ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ –≥—Ä—É–ø–ø—ã –ø–æ —É–∫–∞–∑–∞–Ω–Ω—ã–º –ø–æ–ª—è–º.
* –ü—Ä–∏–º–µ—Ä:

```sql
GROUP BY d.name
```





***

## –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≥—Ä—É–ø–ø (Filtered ‚Äî HAVING)

* –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —É—Å–ª–æ–≤–∏—è –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –∞–≥—Ä–µ–≥–∞—Ü–∏–∏.
* –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç `WHERE`, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.
* –ü—Ä–∏–º–µ—Ä:

```sql
HAVING AVG(e.salary) > 60000
```





***

## –í—ã–±–æ—Ä–∫–∞ (Selected ‚Äî SELECT)

* –§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –∫–æ–ª–æ–Ω–æ–∫.
* –ó–¥–µ—Å—å –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è:
  * –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è,
  * –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏,
  * `DISTINCT`.
* –ü—Ä–∏–º–µ—Ä:

```sql
SELECT d.name, AVG(e.salary) AS avg_salary
```





***

## –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (Ordered ‚Äî ORDER BY)

* –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ —É–∫–∞–∑–∞–Ω–Ω—ã–º —Å—Ç–æ–ª–±—Ü–∞–º –∏–ª–∏ –≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º.
* –ü—Ä–∏–º–µ—Ä:

```sql
ORDER BY avg_salary DESC
```





***

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∫–∏ (Limited ‚Äî LIMIT / OFFSET)

* –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ —á–∏—Å–ª—É —Å—Ç—Ä–æ–∫.
* –ü—Ä–∏–º–µ—Ä:

```sql
LIMIT 10 OFFSET 20
```



