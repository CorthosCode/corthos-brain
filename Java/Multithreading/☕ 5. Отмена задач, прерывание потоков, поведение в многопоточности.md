
###### üõë 1. –ß—Ç–æ —Ç–∞–∫–æ–µ –æ—Ç–º–µ–Ω–∞?

**–û—Ç–º–µ–Ω–∞ (cancellation)** ‚Äî —ç—Ç–æ –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –ø–æ—Ç–æ–∫–∞ –¥–æ –æ–±—ã—á–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.

* –ü–æ—Ç–æ–∫ –Ω–µ "—É–±–∏–≤–∞—é—Ç" –∏–∑–≤–Ω–µ (—ç—Ç–æ –æ–ø–∞—Å–Ω–æ).
* –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ø–æ—Ç–æ–∫—É **—Å–æ–æ–±—â–∞—é—Ç**, —á—Ç–æ –æ–Ω –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.
* –°–∞–º –ø–æ—Ç–æ–∫ –¥–æ–ª–∂–µ–Ω **—Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å** –Ω–∞ –æ—Ç–º–µ–Ω—É (–æ—Ç—Å—é–¥–∞ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ ¬´–∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ¬ª –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ).


###### üîï 2. –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏—è (Interrupts)

Java –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –æ—Ç–º–µ–Ω—ã —á–µ—Ä–µ–∑ **–ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –ø–æ—Ç–æ–∫–∞**.

**üß© –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ:**

```java
Thread t = ...;
t.interrupt(); // –ü–æ—Å—ã–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫—É
```

**üì£ –ü–æ—Ç–æ–∫ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**

```java
if (Thread.currentThread().isInterrupted()) {
    // –ó–∞–≤–µ—Ä—à–∞–µ–º –∑–∞–¥–∞—á—É
}
```

**‚ùó –ü—Ä–µ—Ä—ã–≤–∞–µ–º—ã–µ –º–µ—Ç–æ–¥—ã:**

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –º–µ—Ç–æ–¥—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `sleep()`, `wait()`, `join()`, `BlockingQueue.take()`) –≤—ã–±—Ä–∞—Å—ã–≤–∞—é—Ç `InterruptedException`.


###### üß≠ 3. –ü–æ–ª–∏—Ç–∏–∫–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è

–í–∞–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å **–≥–¥–µ –∏ –∫–∞–∫** –≤ –≤–∞—à–µ–º –∫–æ–¥–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è.


**–ü–æ–ª–∏—Ç–∏–∫–∞ –≤–∫–ª—é—á–∞–µ—Ç:**

* –ù—É–∂–Ω–æ –ª–∏ –æ—Ç–∫–ª–∏–∫–∞—Ç—å—Å—è –Ω–∞ `interrupt`
* –ù—É–∂–Ω–æ –ª–∏ –ø—Ä–æ–∫–∏–¥—ã–≤–∞—Ç—å `InterruptedException` –¥–∞–ª—å—à–µ
* –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç–µ


**–ü—Ä–∏–º–µ—Ä –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**

```java
try {
    while (!Thread.currentThread().isInterrupted()) {
        doWork();
    }
} catch (InterruptedException e) {
    // –ø—Ä–µ—Ä—ã–≤–∞–µ–º —Ü–∏–∫–ª, —á–∏—Å—Ç–∏–º —Ä–µ—Å—É—Ä—Å—ã
    Thread.currentThread().interrupt(); // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–ª–∞–≥–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è
}
```


###### üì¶ 4. –û—Ç–º–µ–Ω–∞ –∑–∞–¥–∞—á —Å Future

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Future` –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–ø–æ—Å–æ–± –æ—Ç–º–µ–Ω—ã:

```java
Future<?> task = executor.submit(runnable);
task.cancel(true); // true ‚Äî –æ–∑–Ω–∞—á–∞–µ—Ç "—Å –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ–º"
```

üîπ –ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ ‚Äî –æ—Ç–º–µ–Ω–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç.
üîπ –ï—Å–ª–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `interrupt()`.

–ó–∞–¥–∞—á–∞ –¥–æ–ª–∂–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ!


###### üîÅ 5. –ü—Ä–µ—Ä—ã–≤–∞–µ–º—ã–µ –∑–∞–¥–∞—á–∏

–ß—Ç–æ–±—ã –∑–∞–¥–∞—á–∞ –º–æ–≥–ª–∞ –±—ã—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞, –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞:

* –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å `Thread.interrupted()` –∏–ª–∏ `isInterrupted()`
* –∏–ª–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å `InterruptedException` –∏–∑ –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –≤—ã–∑–æ–≤–æ–≤


###### üö± 6. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ

**–¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏:**

* –ü–æ—Ç–æ–∫ –≤–µ—á–Ω–æ –≤–∏—Å–∏—Ç –≤ `while(true)`
* –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ñ–ª–∞–≥ `isInterrupted()`
* –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è `InterruptedException`

**–†–µ—à–µ–Ω–∏—è:**

* –û—Å–≤–æ–±–æ–∂–¥–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã –≤ `finally`
* –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ **–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å** –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ:

```java
catch (InterruptedException e) {
    Thread.currentThread().interrupt();
}
```


###### ‚öôÔ∏è 7. Executor –∏ Shutdown

–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—É–ª–∞:

```java
executor.shutdown();        // –º—è–≥–∫–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ (–∂–¥—ë—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á)
executor.shutdownNow();     // –∂—ë—Å—Ç–∫–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞: –æ—Ç–º–µ–Ω—è–µ—Ç (interrupt) –≤—Å–µ –∑–∞–¥–∞—á–∏
```

üîπ –ü–æ—Å–ª–µ `shutdown()` ‚Üí –Ω–µ–ª—å–∑—è –ø–æ–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏
üîπ `shutdownNow()` ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –±—ã–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã


###### üßµ 8. –û—Ç–º–µ–Ω–∞ —á–µ—Ä–µ–∑ —Ñ–ª–∞–≥ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

–ï—Å–ª–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–¥–∞—á–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã), –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Ñ–ª–∞–≥ –æ—Ç–º–µ–Ω—ã**:

```java
class MyTask implements Runnable {
    private volatile boolean cancelled = false;

    public void cancel() {
        cancelled = true;
    }

    public void run() {
        while (!cancelled) {
            // —Ä–∞–±–æ—Ç–∞
        }
    }
}
```


###### üß∑ 9. –ü–æ—Ç–æ–∫–∏-–¥–µ–º–æ–Ω—ã –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ

**Daemon-–ø–æ—Ç–æ–∫–∏** –Ω–µ –º–µ—à–∞—é—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é JVM, –Ω–æ –∑–∞–¥–∞—á–∏ –≤ –Ω–∏—Ö –º–æ–≥—É—Ç –±—ã—Ç—å **–æ–±–æ—Ä–≤–∞–Ω—ã –±–µ–∑ –æ—á–∏—Å—Ç–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤**. –ü–æ—ç—Ç–æ–º—É **–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–π –≤–∞–∂–Ω—É—é –ª–æ–≥–∏–∫—É –≤ –¥–µ–º–æ–Ω–∞—Ö**.


###### üß≠ 10. –û—Ç–º–µ–Ω–∞ –≤ –∑–∞–¥–∞—á–∞—Ö —Å —Ü–∏–∫–ª–æ–º

–í –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏—Ö –∑–∞–¥–∞—á–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—á–µ—Ä–µ–¥–µ–π) –æ—Ç–º–µ–Ω–∞ –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–∞:

```java
while (!Thread.currentThread().isInterrupted()) {
    try {
        process(queue.take());
    } catch (InterruptedException e) {
        break; // –≤—ã—Ö–æ–¥ –∏–∑ —Ü–∏–∫–ª–∞
    }
}
```


###### üß† –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

| ‚úÖ –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ ‚Äî –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –æ—Ç–º–µ–Ω—ã –∑–∞–¥–∞—á                              |
| -------------------------------------------------------------------------------- |
| üßµ –ü–æ—Ç–æ–∫–∏ –¥–æ–ª–∂–Ω—ã **—Å–∞–º–∏** –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ          |
| üßΩ –û—á–∏—â–∞–π—Ç–µ —Ä–µ—Å—É—Ä—Å—ã –≤ `finally` –±–ª–æ–∫–∞—Ö                                           |
| üö¶ –ù–µ –ø–æ–¥–∞–≤–ª—è–π—Ç–µ `InterruptedException` –±–µ–∑ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ–ª–∞–≥–∞                 |
| ‚ö†Ô∏è –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `stop()`, `suspend()`, `resume()` ‚Äî –æ–Ω–∏ —É—Å—Ç–∞—Ä–µ–ª–∏ –∏ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã |


***

# –Ø–¥–æ–≤–∏—Ç—ã–µ —Ç–∞–±–ª–µ—Ç–∫–∏ (Poison Pills)


###### üß† –ß—Ç–æ —Ç–∞–∫–æ–µ ¬´—è–¥–æ–≤–∏—Ç–∞—è —Ç–∞–±–ª–µ—Ç–∫–∞¬ª?

**–Ø–¥–æ–≤–∏—Ç–∞—è —Ç–∞–±–ª–µ—Ç–∫–∞ (Poison Pill)** ‚Äî —ç—Ç–æ –æ—Å–æ–±—ã–π –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏ –∏ —Å–ª—É–∂–∏—Ç **—Å–∏–≥–Ω–∞–ª–æ–º –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ—Ç–æ–∫–∞-–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è**.

–≠—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–∞—Ö —Å **–ø–µ—Ä–µ–¥–∞—á–µ–π –∑–∞–¥–∞—á —á–µ—Ä–µ–∑ –æ—á–µ—Ä–µ–¥—å** (producer-consumer), —á—Ç–æ–±—ã **–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ä–∞–±–æ—Ç—É** –ø–æ—Ç–æ–∫–∞/—Å–ª—É–∂–±—ã –±–µ–∑ —è–≤–Ω–æ–≥–æ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è.


###### üì¶ –°—É—Ç—å –∏–¥–µ–∏

* –ü–æ—Ç–æ–∫–∏-–ø–æ—Å—Ç–∞–≤—â–∏–∫–∏ (producers) –ø–æ–º–µ—â–∞—é—Ç –∑–∞–¥–∞—á–∏ –≤ –æ—á–µ—Ä–µ–¥—å.
* –ü–æ—Ç–æ–∫–∏-–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ (consumers) –∏–∑–≤–ª–µ–∫–∞—é—Ç –∑–∞–¥–∞—á–∏ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç.
* –ß—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å consumers **–º—è–≥–∫–æ**, –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–≥–æ `interrupt` –∏–ª–∏ `shutdown()`, –≤ –æ—á–µ—Ä–µ–¥—å –∫–ª–∞–¥—ë—Ç—Å—è **–º–∞—Ä–∫–µ—Ä–Ω—ã–π –æ–±—ä–µ–∫—Ç** ‚Äî *poison pill*.
* –ü–æ–ª—É—á–∏–≤ –µ–≥–æ, –ø–æ—Ç–æ–∫ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å–≤–æ—é —Ä–∞–±–æ—Ç—É.


###### ‚úÖ –ü—Ä–∏–º–µ—Ä: –ø—Ä–æ—Å—Ç–æ–π –ø–∞—Ç—Ç–µ—Ä–Ω Poison Pill


**1. –û–ø—Ä–µ–¥–µ–ª–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–¥–∞—á–∏**

```java
interface Task {
    void execute();
}
```


**2. –°–æ–∑–¥–∞–¥–∏–º –æ–±—ã—á–Ω—É—é –∑–∞–¥–∞—á—É –∏ —è–¥–æ–≤–∏—Ç—É—é —Ç–∞–±–ª–µ—Ç–∫—É**

```java
class WorkTask implements Task {
    @Override
    public void execute() {
        System.out.println("Doing some work");
    }
}

class PoisonPill implements Task {
    @Override
    public void execute() {
        // –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º, –ø—Ä–æ—Å—Ç–æ —Å–∏–≥–Ω–∞–ª –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
    }
}
```


**3. –ü–æ—Ç–æ–∫-–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å**

```java
class Consumer implements Runnable {
    private final BlockingQueue<Task> queue;

    public Consumer(BlockingQueue<Task> queue) {
        this.queue = queue;
    }

    @Override
    public void run() {
        try {
            while (true) {
                Task task = queue.take();
                if (task instanceof PoisonPill) break;  // —Å–∏–≥–Ω–∞–ª –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
                task.execute();
            }
        } catch (InterruptedException ignored) {}
    }
}
```


**4. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ poison pill**

```java
BlockingQueue<Task> queue = new LinkedBlockingQueue<>();
ExecutorService executor = Executors.newFixedThreadPool(3);

executor.submit(new Consumer(queue));
executor.submit(new Consumer(queue));

// –ö–ª–∞–¥—ë–º –∑–∞–¥–∞—á–∏
queue.put(new WorkTask());
queue.put(new WorkTask());

// –ó–∞–≤–µ—Ä—à–∞–µ–º –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π
queue.put(new PoisonPill());
queue.put(new PoisonPill());
```


###### üí° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

| –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å            | –û–ø–∏—Å–∞–Ω–∏–µ                                          |
| ---------------------- | ------------------------------------------------- |
| üìå –ü—Ä–æ—Å—Ç–æ—Ç–∞            | –ù–µ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –∏–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏           |
| ‚öñÔ∏è –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å | –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π –º–æ–º–µ–Ω—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è                  |
| üß© –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å       | –ú–æ–∂–Ω–æ –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∏–¥–æ–≤ ¬´—Å–∏–≥–Ω–∞–ª—å–Ω—ã—Ö¬ª –æ–±—ä–µ–∫—Ç–æ–≤ |
| ‚ò†Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å        | –ù–µ—Ç –≥–æ–Ω–∫–∏ –º–µ–∂–¥—É `take()` –∏ `shutdownNow()`        |


###### ‚ùó–í–∞–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å

* –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —è–¥–æ–≤–∏—Ç—ã—Ö —Ç–∞–±–ª–µ—Ç–æ–∫ –¥–æ–ª–∂–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å **—á–∏—Å–ª—É –ø–æ—Ç–æ–∫–æ–≤-–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π** (–∏–Ω–∞—á–µ –∫—Ç–æ-—Ç–æ –º–æ–∂–µ—Ç –æ—Å—Ç–∞—Ç—å—Å—è ¬´–≤–∏—Å–µ—Ç—å¬ª).
* –ï—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å **–æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è**, –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è **–¥–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥ –∏–ª–∏ —Ç–∏–ø**, –µ—Å–ª–∏ –Ω–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `instanceof`.
* –ú–æ–∂–µ—Ç –±—ã—Ç—å **–Ω–µ—É–¥–æ–±–Ω–æ**, –µ—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `BlockingQueue<String>`).

