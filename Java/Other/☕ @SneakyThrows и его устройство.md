# ‚òï @SneakyThrows –∏ –µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@SneakyThrows` –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ **Lombok** ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π, –Ω–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç **–æ–±—Ö–æ–¥–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É checked-–∏—Å–∫–ª—é—á–µ–Ω–∏–π** –≤ Java.



###### üîç –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `@SneakyThrows`?



–û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç **–Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å&#x20;****`throws`****&#x20;–≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–µ –º–µ—Ç–æ–¥–∞ –∏ –Ω–µ –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –∫–æ–¥ –≤ try-catch**, –¥–∞–∂–µ –µ—Å–ª–∏ –º–µ—Ç–æ–¥ –±—Ä–æ—Å–∞–µ—Ç checked-–∏—Å–∫–ª—é—á–µ–Ω–∏–µ.

üì¶ –ü—Ä–∏–º–µ—Ä –±–µ–∑ Lombok:

```java
public void read() {
    try {
        throw new IOException("–û—à–∏–±–∫–∞");
    } catch (IOException e) {
        throw new RuntimeException(e);
    }
}
```

üì¶ –° `@SneakyThrows`:

```java
@SneakyThrows
public void read() {
    throw new IOException("–û—à–∏–±–∫–∞");
}
```

üëâ –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä **–Ω–µ –±—É–¥–µ—Ç —Ä—É–≥–∞—Ç—å—Å—è**, —Ö–æ—Ç—è `IOException` ‚Äî —ç—Ç–æ **checked exception**, –∏ —Ç—ã –µ–≥–æ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å.



###### ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `@SneakyThrows` –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º?

Lombok **–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –±–∞–π—Ç–∫–æ–¥** –∏ **–≤—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é**, –æ—Å–Ω–æ–≤–∞–Ω–Ω—É—é –Ω–∞ —Ç—Ä—é–∫–µ —Å "–Ω–µ–ø—Ä–æ–≤–µ—Ä—è–µ–º—ã–º –±—Ä–æ—Å–∫–æ–º –∏—Å–∫–ª—é—á–µ–Ω–∏–π", –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

```java
public void read() {
    try {
        throw new IOException("–û—à–∏–±–∫–∞");
    } catch (Throwable t) {
        Lombok.sneakyThrow(t);
    }
}
```

–ê –º–µ—Ç–æ–¥ `sneakyThrow()` –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

```java
public class Lombok {
    public static RuntimeException sneakyThrow(Throwable t) {
        if (t == null) {
            throw new NullPointerException("t");
        } else {
            return (RuntimeException)sneakyThrow0(t);
        }
    }

    private static <T extends Throwable> T sneakyThrow0(Throwable t) throws T {
        throw t;
    }
}
```

üí° –ó–¥–µ—Å—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **type erasure** (—Å—Ç–∏—Ä–∞–Ω–∏–µ —Ç–∏–ø–æ–≤) ‚Äî –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –¥—É–º–∞–µ—Ç, —á—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è `RuntimeException`, —Ö–æ—Ç—è –≤ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å `IOException` –∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ.



###### üìå –ù–∞ —á—Ç–æ —Å—Ç–æ–∏—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ

‚úÖ –ü–ª—é—Å—ã:

* –ú–µ–Ω—å—à–µ —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ (try-catch, throws)
* –£–¥–æ–±–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤, –ª—è–º–±–¥, –∏–ª–∏ reflection API

‚ùå –ú–∏–Ω—É—Å—ã:

* **–ù–∞—Ä—É—à–∞–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç —è–∑—ã–∫–∞**: –º–µ—Ç–æ–¥ –±—Ä–æ—Å–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –Ω–æ –∏—Ö –Ω–µ –≤–∏–¥–Ω–æ –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–µ
* –ú–æ–∂–µ—Ç –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ —Å–ª–æ–º–∞—Ç—å –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ –≤—ã—à–µ
* –¢—Ä—É–¥–Ω–µ–µ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –∏ –ø–æ–Ω–∏–º–∞—Ç—å –∫–æ–¥
* –ù–µ–æ—á–µ–≤–∏–¥–Ω–æ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤



###### üí° –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ª—è–º–±–¥–µ (—á–∞—Å—Ç–æ –≤ —Å—Ç—Ä–∏–º–∞—Ö)

```java
list.forEach(@SneakyThrows name -> {
    Files.writeString(Path.of("file.txt"), name);
});
```

–ë–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –ø—Ä–∏—à–ª–æ—Å—å –±—ã –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å —ç—Ç–æ –≤ try-catch –∏–ª–∏ –ø–∏—Å–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å `throws`.



